<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=/css/lib/bootstrap/4.5.3/bootstrap.min.css><script src=/js/lib/jquery/3.5.1/jquery-3.5.1.min.js></script><script src=/js/lib/bootstrap/4.5.3/bootstrap.bundle.min.js></script><link rel=icon href=/img/favicon.ico type=image/x-icon><link rel="shortcut icon" href=/img/favicon.ico type=image/x-icon><title>YottaDB - Optimistic Concurrency Control</title><link rel=stylesheet href=/css/fosdem.css></head><body><div class=container><div class="row mb-4 px-4 py-4" id=header><div class=col-4><a href=/><img src=/fosdem21.png alt="Go to the home page." class=mr-2> <span class="align-middle h2" style=font-weight:700;color:#000>STANDS</span></a></div><div class="col text-center"><ul class=list-inline><li class=list-inline-item><a href=/themes/>Per theme</a></li><li class=list-inline-item><a href=/stands/>All stands</a></li><li class=list-inline-item><a href=https://fosdem.org/2021/live>Back to FOSDEM</a></li></ul></div></div></div><div class=container><div class=row><div class=col><nav aria-label=breadcrumb><ol class="breadcrumb fosdem-breadcrumb"><li class=breadcrumb-item><a href=https://stands.fosdem.org/themes/database-engines/>Database engines</a></li><li class=breadcrumb-item><a href=https://stands.fosdem.org/stands/yottadb/>YottaDB</a></li><li class="breadcrumb-item active" aria-current=page>Optimistic Concurrency Control</li></ol></nav></div></div><div class=row><div class=col><h1 id=optimistic-concurrency-control>Optimistic Concurrency Control</h1><p>Unlike most high-end transactional database engines, YottaDB uses <a href=http://daslab.seas.harvard.edu/reading-group/papers/kung.pdf>Optimistic Concurrency Control</a> (OCC) to implement <a href=https://en.wikipedia.org/wiki/ACID>ACID</a> transactions. Since transactions do not typically collide, optimistic techniques scale up better than other techniques. OCC and the daemon-less architecture reinforce each other to provide the extreme level of scalability that YottaDB users have come to expect.</p><h2 id=how-yottadb-occ-works>How YottaDB OCC Works</h2><p>Every database records a transaction number in its file header. Each database block header records the database transaction number when that block was last updated. When a process is inside a transaction:</p><ul><li>The database engine tracks the file and block number of each database block read, and the transaction number of that block. Since a block to be updated must first be read, this list includes blocks to be updated.</li><li>When application logic updates the database, the update is retained in process-private memory and does not update the database. The update is visible to subsequently application logic within the process, but is not visible to any other process until the transaction commits.</li><li>When the application logic signals that it is ready to commit the transaction, the database engine checks whether any block read within the transaction has a higher transaction number than that it has recorded. If none has — the typical case — the engine commits the transaction.</li><li>If even one block has been updated since the process read it, the database engine discards its work and restarts the transaction logic. This restart is transparent to the application logic, which does not need to be coded to be aware of YottaDB transaction processing. This simplifies application code and improves maintainability. In the most common case, where a collision results from a random overlapping update by a concurrent process, it is able to commit on the second attempt.</li><li>If the second attempt also fails to commit, the engine makes a third attempt, and if that fails, the engine concludes that pathological application logic is causing the collisions, and makes a fourth and final attempt during which updates by other processes are blocked, allowing the transaction to commit. [Applications should be written to avoid pathological colliding concurrent transactions; YottaDB provides tools and support services for application developers to identify such pathology should it occur.]</li></ul></div></div></div><div class="container-fluid mt-4" id=footer><div class="row justify-content-center px-4 pt-4 mx-4 mt-4"><div class=col-2><h3>FOSDEM</h3><ul class=list-unstyled><li class=home><a accesskey=1 href=https://fosdem.org/2021/>Home</a></li><li><a accesskey=2 href=https://fosdem.org/2021/news/>News</a></li><li><a href=https://fosdem.org/2021/about/>About</a></li><li><a href=https://fosdem.org/2021/about/sponsors/>Sponsors</a></li><li><a href=https://fosdem.org/2021/support/donate/>Donate</a></li><li><a accesskey=5 href=https://fosdem.org/2021/faq/>FAQ</a></li><li><a href=https://fosdem.org/2021/archives/>Archives</a></li></ul></div><div class=col-2><h3>This year</h3><ul class=list-unstyled><li><a accesskey=s href=https://fosdem.org/2021/schedule/>Schedule</a></li><li><a href=https://stands.fosdem.org/>Stands</a></li><li><a href=https://fosdem.org/2021/certification/>Certification exams</a></li><li><a href=https://fosdem.org/2021/volunteer/>Volunteer</a></li><li><a href=https://fosdem.org/2021/fringe/>Fringe</a></li></ul></div><div class=col-2><h3>Practical information</h3><ul class=list-unstyled><li><a href=https://fosdem.org/2021/practical/online/>FOSDEM 2021 Online</a></li><li><a href=https://fosdem.org/2021/practical/accessibility/>Accessibility</a></li><li><a href=https://fosdem.org/2021/practical/conduct/>Code of Conduct</a></li><li><a href=https://fosdem.org/2021/practical/services/>During the Event</a></li></ul></div><div class=col-2><h3>Media and press</h3><ul class=list-unstyled><li><a href=https://fosdem.org/2021/social/>Social media</a></li></ul></div></div><div class="row justify-content-center px-4 mx-4"><div class=col-8><div class=media><img src=/cogweel.png alt="FOSDEM logo" class=mr-3><div class="media-body pt-2"><img src=/fosdem21_bw.png alt="FOSDEM 21 logo"><p class=mt-2>Online / <strong>6 & 7 February 2021</strong></p></div></div></div></div><div class="row justify-content-center px-4 mx-4 mt-4" id=license><div class=col-8><div class=media><img src=/cclogo.png alt="cc-by-be logo" class=mr-3><div class=media-body id=license-text><p>This work is licensed under the Creative Commons Attribution 2.0 Belgium Licence.
To view a copy of this licence, visit http://creativecommons.org/licenses/by/2.0/be/deed.en
or send a letter to Creative Commons, 444 Castro Street, Suite 900, Mountain View, California,
94041,
USA.
All content such as talks and biographies is the sole responsibility of the speaker.</p></div></div></div></div></div></body></html>